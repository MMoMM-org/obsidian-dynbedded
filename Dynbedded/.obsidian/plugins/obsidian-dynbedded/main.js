/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => Dynbedded
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/DynbeddedSettingTab.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  debugLogging: false
};
var DynbeddedSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: this.plugin.pluginName });
    containerEl.createEl("h2", { text: this.plugin.pluginDescription });
    containerEl.createEl("b", { text: " Version: " + this.plugin.pluginVersion });
    containerEl.createEl("br", { text: "" });
    containerEl.createEl("br", { text: "" });
    containerEl.createEl("a", { text: "Created by " + this.plugin.pluginAuthor, href: this.plugin.pluginAuthorUrl });
    containerEl.createEl("br", { text: "" });
    containerEl.createEl("br", { text: "" });
    containerEl.createEl("a", { text: "Plugin Documentation", href: this.plugin.pluginDocumentationUrl });
    containerEl.createEl("br", { text: "" });
    containerEl.createEl("br", { text: "" });
    const coffeeDiv = containerEl.createDiv("coffee");
    coffeeDiv.addClass("ex-coffee-div");
    const coffeeLink = coffeeDiv.createEl("a", {
      href: "https://ko-fi.com/mmomm"
    });
    const coffeeImg = coffeeLink.createEl("img", {
      attr: {
        src: "https://cdn.ko-fi.com/cdn/kofi3.png?v=3"
      }
    });
    coffeeImg.height = 45;
    containerEl.createEl("h3", { text: "Developer Settings" });
    new import_obsidian.Setting(containerEl).setName("Enable Debug Logging").setDesc("If this is enabled, more things are printed to the console.").addToggle((toggle) => toggle.setValue(this.plugin.settings.debugLogging).onChange(async (value) => {
      this.plugin.log("Debug Logging", value);
      this.plugin.settings.debugLogging = value;
      await this.plugin.saveSettings();
    }));
  }
};

// src/DynbeddedProcessor.ts
var import_obsidian2 = require("obsidian");
var DynbeddedProcessor = class {
  constructor(app2, plugin) {
    this.plugin = plugin;
    this.app = app2;
  }
  async render(source, el, ctx) {
    const fileNameMatchPattern = /\[\[([^\]]{2}.*)\]\]/u;
    const fileNameMatch = fileNameMatchPattern.exec(source);
    this.plugin.log("FileNameMatch", fileNameMatch);
    if (!fileNameMatch) {
      Dynbedded.displayError(el, "Bad file link: " + source);
      return;
    }
    let fileName = fileNameMatch[1];
    const dynamicDateMatchPattern = /{{(.*)}}/;
    const dynamicDateMatch = dynamicDateMatchPattern.exec(fileName);
    this.plugin.log("DynamicDateMatch", dynamicDateMatch);
    if (dynamicDateMatch !== null) {
      let dynamicDateFormat = dynamicDateMatch[1];
      let duration = window.moment.duration(0);
      this.plugin.log("DynamicDateFormat", dynamicDateFormat.includes("|"));
      if (dynamicDateFormat.includes("|")) {
        const offset = dynamicDateFormat.split("|")[1];
        this.plugin.log("Offset", offset);
        dynamicDateFormat = dynamicDateFormat.split("|")[0];
        this.plugin.log("dynamicDateMatch", dynamicDateFormat);
        if (/^-?\d+$/.test(offset)) {
          this.plugin.log("Number");
          duration = window.moment.duration(Number(offset), "days");
        } else {
          this.plugin.log("String");
          duration = window.moment.duration(offset);
        }
        this.plugin.log("Duration", duration);
      }
      const dynamicDate = window.moment().add(duration).format(dynamicDateFormat);
      this.plugin.log("DynamicDate", dynamicDate);
      if (!window.moment(window.moment.now(), dynamicDateFormat, true).isValid || dynamicDate === null) {
        Dynbedded.displayError(el, "Not a valid Moment.js Time format: " + dynamicDateFormat);
        return;
      }
      fileName = fileName.replace(dynamicDateMatchPattern, dynamicDate);
      this.plugin.log("DynamicFileName", fileName);
    }
    let header = "";
    if (fileName.contains("#")) {
      header = fileName.split("#")[1];
      fileName = fileName.split("#")[0];
      this.plugin.log("Header", header);
    }
    const matchingFile = this.app.metadataCache.getFirstLinkpathDest(fileName, "");
    this.plugin.log("MatchingFile", matchingFile);
    if (!matchingFile) {
      Dynbedded.displayError(el, "File link not found: [[" + fileName + "]]");
      return;
    }
    if (matchingFile.extension !== "md") {
      Dynbedded.displayError(el, "Bad file extension found, expected markdown: " + matchingFile);
      return;
    }
    let fileContents = "";
    if (header != "") {
      const headings = this.app.metadataCache.getFileCache(matchingFile).headings;
      if (headings === null || headings === void 0) {
        const errorMessage = 'Header "' + header + '" not found in [[' + fileName + "]]";
        Dynbedded.displayError(el, errorMessage);
      }
      this.plugin.log("Headings", headings);
      let position;
      for (let i = 0; i < headings.length; i++) {
        const heading = headings[i];
        this.plugin.log("Heading", heading);
        if (heading.heading == header) {
          if (i == headings.length - 1) {
            position = [heading.position.start.line, -1];
          } else {
            position = [heading.position.start.line, headings[i + 1].position.start.line];
          }
        }
      }
      if (position) {
        let text = await this.app.vault.cachedRead(matchingFile);
        if (!text.endsWith("\n")) {
          text = text + "\n";
        }
        this.plugin.log("Position", position);
        this.plugin.log("Text", text);
        fileContents = text.split("\n").slice(position[0] + 1, position[1]).join("\n");
        this.plugin.log("Split", fileContents);
      }
    } else {
      fileContents = await this.app.vault.cachedRead(matchingFile);
    }
    if (fileContents == "") {
      const errorMessage = 'Header "' + header + '" not found in [[' + fileName + "]]";
      Dynbedded.displayError(el, errorMessage);
      return;
    }
    this.plugin.log("File", fileContents);
    const container = el.createDiv({ cls: [Dynbedded.containerClass] });
    await import_obsidian2.MarkdownRenderer.renderMarkdown(fileContents, container, ctx.sourcePath, this);
  }
};

// src/main.ts
var _Dynbedded = class extends import_obsidian3.Plugin {
  constructor() {
    super(...arguments);
    this.pluginName = this.manifest.name;
    this.pluginDescription = this.manifest.description;
    this.pluginVersion = this.manifest.version;
    this.pluginAuthor = this.manifest.author;
    this.pluginAuthorUrl = this.manifest.authorUrl;
    this.pluginDocumentationUrl = "https://github.com/MMoMM-org/obsidian-dynbedded";
    this.dynbeddedProcessor = new DynbeddedProcessor(app, this);
  }
  async onload() {
    await this.loadSettings();
    this.log("Loading Plugin");
    this.addSettingTab(new DynbeddedSettingTab(this.app, this));
    this.registerMarkdownCodeBlockProcessor(_Dynbedded.codeBlockKeyword, async (source, el, ctx) => {
      this.dynbeddedProcessor.render(source, el, ctx);
    });
  }
  onunload() {
    this.log("Unloading Plugin");
  }
  log(...args) {
    if (this.settings.debugLogging) {
      console.log(this.pluginName + "-Debug:", ...args);
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    this.log("Settings loaded", this.settings);
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.log("Settings saved", this.settings);
  }
};
var Dynbedded = _Dynbedded;
Dynbedded.codeBlockKeyword = "dynbedded";
Dynbedded.containerClass = "dynbedded";
Dynbedded.errorClass = "dynbedded-error";
Dynbedded.displayError = (parent, text) => {
  console.log("Dynbedded-Error: ", text);
  parent.createEl("pre", { text: "Dynbedded: Error: " + text, cls: [_Dynbedded.containerClass, _Dynbedded.errorClass] });
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vc3JjL21haW4udHMiLCAiLi4vLi4vLi4vLi4vc3JjL0R5bmJlZGRlZFNldHRpbmdUYWIudHMiLCAiLi4vLi4vLi4vLi4vc3JjL0R5bmJlZGRlZFByb2Nlc3Nvci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtQbHVnaW59IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7REVGQVVMVF9TRVRUSU5HUywgRHluYmVkZGVkU2V0dGluZ3MsIER5bmJlZGRlZFNldHRpbmdUYWJ9IGZyb20gJy4vRHluYmVkZGVkU2V0dGluZ1RhYic7XG5pbXBvcnQge0R5bmJlZGRlZFByb2Nlc3Nvcn0gZnJvbSAnLi9EeW5iZWRkZWRQcm9jZXNzb3InO1xuXG50eXBlIExvZ1R5cGUgPSB0eXBlb2YgY29uc29sZS5sb2c7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYmVkZGVkIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IER5bmJlZGRlZFNldHRpbmdzO1xuXHRwbHVnaW5OYW1lID0gdGhpcy5tYW5pZmVzdC5uYW1lO1xuXHRwbHVnaW5EZXNjcmlwdGlvbiA9IHRoaXMubWFuaWZlc3QuZGVzY3JpcHRpb247XG5cdHBsdWdpblZlcnNpb24gPSB0aGlzLm1hbmlmZXN0LnZlcnNpb247XG5cdHBsdWdpbkF1dGhvciA9IHRoaXMubWFuaWZlc3QuYXV0aG9yO1xuXHRwbHVnaW5BdXRob3JVcmwgPSB0aGlzLm1hbmlmZXN0LmF1dGhvclVybDtcblx0cGx1Z2luRG9jdW1lbnRhdGlvblVybCA9ICdodHRwczovL2dpdGh1Yi5jb20vTU1vTU0tb3JnL29ic2lkaWFuLWR5bmJlZGRlZCc7XG5cblx0c3RhdGljIGNvZGVCbG9ja0tleXdvcmQgPSBcImR5bmJlZGRlZFwiO1xuXHRzdGF0aWMgY29udGFpbmVyQ2xhc3MgPSBcImR5bmJlZGRlZFwiO1xuXHRzdGF0aWMgZXJyb3JDbGFzcyA9IFwiZHluYmVkZGVkLWVycm9yXCI7XG5cblx0c3RhdGljIGRpc3BsYXlFcnJvciA9IChwYXJlbnQ6IEhUTUxFbGVtZW50LCB0ZXh0OiBzdHJpbmcpID0+IHtcblx0XHRjb25zb2xlLmxvZyhcIkR5bmJlZGRlZC1FcnJvcjogXCIsdGV4dClcblx0XHRwYXJlbnQuY3JlYXRlRWwoXCJwcmVcIiwgeyB0ZXh0OiBcIkR5bmJlZGRlZDogRXJyb3I6IFwiICsgdGV4dCwgY2xzOiBbRHluYmVkZGVkLmNvbnRhaW5lckNsYXNzLCBEeW5iZWRkZWQuZXJyb3JDbGFzc10gfSk7XG5cdH1cblxuXHRkeW5iZWRkZWRQcm9jZXNzb3IgPSBuZXcgRHluYmVkZGVkUHJvY2Vzc29yKGFwcCwgdGhpcyk7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5sb2coXCJMb2FkaW5nIFBsdWdpblwiKVxuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IER5bmJlZGRlZFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIFJlZ2lzdGVyaW5nIHRoZSBDb2RlQmxvY2tQcm9jZXNzb3Jcblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoRHluYmVkZGVkLmNvZGVCbG9ja0tleXdvcmQsIGFzeW5jIChzb3VyY2UsIGVsLCBjdHgpID0+IHt0aGlzLmR5bmJlZGRlZFByb2Nlc3Nvci5yZW5kZXIoc291cmNlLGVsLCBjdHgpfSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHR0aGlzLmxvZyhcIlVubG9hZGluZyBQbHVnaW5cIilcblx0fVxuXG5cdGxvZyguLi5hcmdzOiBQYXJhbWV0ZXJzPExvZ1R5cGU+KSB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnTG9nZ2luZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wbHVnaW5OYW1lICsgXCItRGVidWc6XCIsIC4uLmFyZ3MpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0XHR0aGlzLmxvZyhcIlNldHRpbmdzIGxvYWRlZFwiLHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdFx0dGhpcy5sb2coXCJTZXR0aW5ncyBzYXZlZFwiLHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cblxuXG5cblxuXG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IER5bmJlZGRlZCBmcm9tICcuL21haW4nO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgRHluYmVkZGVkU2V0dGluZ3Mge1xuXHRkZWJ1Z0xvZ2dpbmc6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1MgPSB7XG5cdGRlYnVnTG9nZ2luZzogZmFsc2Vcbn07XG5cblxuZXhwb3J0IGNsYXNzIER5bmJlZGRlZFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cHJpdmF0ZSBwbHVnaW46IER5bmJlZGRlZDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEeW5iZWRkZWQpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiB0aGlzLnBsdWdpbi5wbHVnaW5OYW1lfSk7XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiB0aGlzLnBsdWdpbi5wbHVnaW5EZXNjcmlwdGlvbn0pO1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdiJywgeyB0ZXh0OiAnIFZlcnNpb246ICcgKyB0aGlzLnBsdWdpbi5wbHVnaW5WZXJzaW9uIH0pO1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdicicsIHt0ZXh0OiAnJ30pXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2JyJywge3RleHQ6ICcnfSlcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnYScsIHt0ZXh0OiAnQ3JlYXRlZCBieSAnICsgdGhpcy5wbHVnaW4ucGx1Z2luQXV0aG9yLCBocmVmOiB0aGlzLnBsdWdpbi5wbHVnaW5BdXRob3JVcmx9KVxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdicicsIHt0ZXh0OiAnJ30pXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2JyJywge3RleHQ6ICcnfSlcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnYScsIHt0ZXh0OiAnUGx1Z2luIERvY3VtZW50YXRpb24nLCBocmVmOiB0aGlzLnBsdWdpbi5wbHVnaW5Eb2N1bWVudGF0aW9uVXJsfSlcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnYnInLCB7dGV4dDogJyd9KVxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdicicsIHt0ZXh0OiAnJ30pXG5cdFx0Ly8gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQ29uZmlndXJhdGlvbjonfSk7XG5cdFx0Ly8gdGFrZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS96c3ZpY3ppYW4vb2JzaWRpYW4tZXhjYWxpZHJhdy1wbHVnaW4vYmxvYi8wNDM2N2JkM2NkOTZhMTYyMTg1NDAxMTM5OTk1ZjdmYzQ4NDgxNDcwL3NyYy9zZXR0aW5ncy50cyNMMjYxXG5cdFx0Y29uc3QgY29mZmVlRGl2ID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KFwiY29mZmVlXCIpO1xuXHRcdGNvZmZlZURpdi5hZGRDbGFzcyhcImV4LWNvZmZlZS1kaXZcIik7XG5cdFx0Y29uc3QgY29mZmVlTGluayA9IGNvZmZlZURpdi5jcmVhdGVFbChcImFcIiwge1xuXHRcdFx0aHJlZjogXCJodHRwczovL2tvLWZpLmNvbS9tbW9tbVwiLFxuXHRcdH0pO1xuXHRcdGNvbnN0IGNvZmZlZUltZyA9IGNvZmZlZUxpbmsuY3JlYXRlRWwoXCJpbWdcIiwge1xuXHRcdFx0YXR0cjoge1xuXHRcdFx0XHRzcmM6IFwiaHR0cHM6Ly9jZG4ua28tZmkuY29tL2Nkbi9rb2ZpMy5wbmc/dj0zXCIsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdGNvZmZlZUltZy5oZWlnaHQgPSA0NTtcblxuLy8gTGVhdmUgdGhpcyBhbG9uZSFcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdEZXZlbG9wZXIgU2V0dGluZ3MnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIERlYnVnIExvZ2dpbmcnKVxuXHRcdFx0LnNldERlc2MoJ0lmIHRoaXMgaXMgZW5hYmxlZCwgbW9yZSB0aGluZ3MgYXJlIHByaW50ZWQgdG8gdGhlIGNvbnNvbGUuJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+XG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Z0xvZ2dpbmcpLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5sb2coXCJEZWJ1ZyBMb2dnaW5nXCIsIHZhbHVlKVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnTG9nZ2luZyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxufVxuXG5cbiIsICJpbXBvcnQge0FwcCwgTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCwgTWFya2Rvd25SZW5kZXJlcn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgRHluYmVkZGVkIGZyb20gXCIuL21haW5cIjtcblxuZXhwb3J0IGNsYXNzIER5bmJlZGRlZFByb2Nlc3NvciB7XG4gICAgcHJpdmF0ZSBwbHVnaW46IER5bmJlZGRlZDtcbiAgICBwcml2YXRlIGFwcDogQXBwO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRHluYmVkZGVkKSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXIoc291cmNlOiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCwgY3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0KSB7XG5cbiAgICAgICAgY29uc3QgZmlsZU5hbWVNYXRjaFBhdHRlcm4gPSAvXFxbXFxbKFteXFxdXXsyfS4qKVxcXVxcXS91O1xuICAgICAgICBjb25zdCBmaWxlTmFtZU1hdGNoID0gZmlsZU5hbWVNYXRjaFBhdHRlcm4uZXhlYyhzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMucGx1Z2luLmxvZyhcIkZpbGVOYW1lTWF0Y2hcIiwgZmlsZU5hbWVNYXRjaCk7XG5cbiAgICAgICAgaWYgKCFmaWxlTmFtZU1hdGNoKSB7XG4gICAgICAgICAgICBEeW5iZWRkZWQuZGlzcGxheUVycm9yKGVsLCBcIkJhZCBmaWxlIGxpbms6IFwiICsgc291cmNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmlsZU5hbWUgPSBmaWxlTmFtZU1hdGNoWzFdO1xuXG4gICAgICAgIGNvbnN0IGR5bmFtaWNEYXRlTWF0Y2hQYXR0ZXJuID0gL3t7KC4qKX19LztcbiAgICAgICAgY29uc3QgZHluYW1pY0RhdGVNYXRjaCA9IGR5bmFtaWNEYXRlTWF0Y2hQYXR0ZXJuLmV4ZWMoZmlsZU5hbWUpO1xuICAgICAgICB0aGlzLnBsdWdpbi5sb2coXCJEeW5hbWljRGF0ZU1hdGNoXCIsIGR5bmFtaWNEYXRlTWF0Y2gpO1xuICAgICAgICBpZiAoZHluYW1pY0RhdGVNYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IGR5bmFtaWNEYXRlRm9ybWF0ID0gZHluYW1pY0RhdGVNYXRjaFsxXTtcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IHdpbmRvdy5tb21lbnQuZHVyYXRpb24oMCk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2coXCJEeW5hbWljRGF0ZUZvcm1hdFwiLCBkeW5hbWljRGF0ZUZvcm1hdC5pbmNsdWRlcyhcInxcIikpXG4gICAgICAgICAgICBpZiAoZHluYW1pY0RhdGVGb3JtYXQuaW5jbHVkZXMoXCJ8XCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZHluYW1pY0RhdGVGb3JtYXQuc3BsaXQoXCJ8XCIpWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZyhcIk9mZnNldFwiLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIGR5bmFtaWNEYXRlRm9ybWF0ID0gZHluYW1pY0RhdGVGb3JtYXQuc3BsaXQoXCJ8XCIpWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZyhcImR5bmFtaWNEYXRlTWF0Y2hcIiwgZHluYW1pY0RhdGVGb3JtYXQpXG4gICAgICAgICAgICAgICAgaWYgKC9eLT9cXGQrJC8udGVzdChvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZyhcIk51bWJlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSB3aW5kb3cubW9tZW50LmR1cmF0aW9uKE51bWJlcihvZmZzZXQpLCBcImRheXNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nKFwiU3RyaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHdpbmRvdy5tb21lbnQuZHVyYXRpb24ob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nKFwiRHVyYXRpb25cIiwgZHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZHluYW1pY0RhdGUgPSB3aW5kb3cubW9tZW50KCkuYWRkKGR1cmF0aW9uKS5mb3JtYXQoZHluYW1pY0RhdGVGb3JtYXQpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nKFwiRHluYW1pY0RhdGVcIiwgZHluYW1pY0RhdGUpO1xuICAgICAgICAgICAgLy8gVG9kbzogZmlndXJlIG91dCBob3cgdG8gaGFuZGxlIHdyb25nIGZvcm1hdHMgY29ycmVjdGx5Li4gbW9zdCBmb3JtYXRzIGFyZSB2YWxpZCBidXQgY3JlYXRlIHVuZGVzaXJlZCByZXN1bHRzLi4uXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5tb21lbnQod2luZG93Lm1vbWVudC5ub3coKSwgZHluYW1pY0RhdGVGb3JtYXQsIHRydWUpLmlzVmFsaWQgfHwgZHluYW1pY0RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBEeW5iZWRkZWQuZGlzcGxheUVycm9yKGVsLCBcIk5vdCBhIHZhbGlkIE1vbWVudC5qcyBUaW1lIGZvcm1hdDogXCIgKyBkeW5hbWljRGF0ZUZvcm1hdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZU5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKGR5bmFtaWNEYXRlTWF0Y2hQYXR0ZXJuLCBkeW5hbWljRGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2coXCJEeW5hbWljRmlsZU5hbWVcIiwgZmlsZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBoZWFkZXIgPSBcIlwiO1xuICAgICAgICBpZiAoZmlsZU5hbWUuY29udGFpbnMoXCIjXCIpKSB7XG4gICAgICAgICAgICBoZWFkZXIgPSBmaWxlTmFtZS5zcGxpdChcIiNcIilbMV07XG4gICAgICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnNwbGl0KFwiI1wiKVswXTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZyhcIkhlYWRlclwiLCBoZWFkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWF0Y2hpbmdGaWxlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChmaWxlTmFtZSwgJycpO1xuICAgICAgICB0aGlzLnBsdWdpbi5sb2coXCJNYXRjaGluZ0ZpbGVcIiwgbWF0Y2hpbmdGaWxlKTtcbiAgICAgICAgaWYgKCFtYXRjaGluZ0ZpbGUpIHtcbiAgICAgICAgICAgIER5bmJlZGRlZC5kaXNwbGF5RXJyb3IoZWwsIFwiRmlsZSBsaW5rIG5vdCBmb3VuZDogW1tcIiArIGZpbGVOYW1lICsgXCJdXVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUb2RvOiBjb3VsZCB0aGlzIGJlIG1vdmVkIHVwP1xuICAgICAgICBpZiAobWF0Y2hpbmdGaWxlLmV4dGVuc2lvbiAhPT0gXCJtZFwiKSB7XG4gICAgICAgICAgICBEeW5iZWRkZWQuZGlzcGxheUVycm9yKGVsLCBcIkJhZCBmaWxlIGV4dGVuc2lvbiBmb3VuZCwgZXhwZWN0ZWQgbWFya2Rvd246IFwiICsgbWF0Y2hpbmdGaWxlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmaWxlQ29udGVudHMgPSBcIlwiXG4gICAgICAgIGlmIChoZWFkZXIgIT0gXCJcIikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgaGVhZGluZ3MgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShtYXRjaGluZ0ZpbGUpLmhlYWRpbmdzO1xuICAgICAgICAgICAgaWYgKGhlYWRpbmdzID09PSBudWxsIHx8IGhlYWRpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBcIkhlYWRlciBcXFwiXCIgKyBoZWFkZXIgKyBcIlxcXCIgbm90IGZvdW5kIGluIFtbXCIgKyBmaWxlTmFtZSArIFwiXV1cIjtcbiAgICAgICAgICAgICAgICBEeW5iZWRkZWQuZGlzcGxheUVycm9yKGVsLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nKFwiSGVhZGluZ3NcIiwgaGVhZGluZ3MpO1xuICAgICAgICAgICAgbGV0IHBvc2l0aW9uO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWFkaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRpbmcgPSBoZWFkaW5nc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2coXCJIZWFkaW5nXCIsIGhlYWRpbmcpXG4gICAgICAgICAgICAgICAgaWYgKGhlYWRpbmcuaGVhZGluZyA9PSBoZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gaGVhZGluZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBbaGVhZGluZy5wb3NpdGlvbi5zdGFydC5saW5lLCAtMV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IFtoZWFkaW5nLnBvc2l0aW9uLnN0YXJ0LmxpbmUsIGhlYWRpbmdzW2kgKyAxXS5wb3NpdGlvbi5zdGFydC5saW5lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZChtYXRjaGluZ0ZpbGUpXG4gICAgICAgICAgICAgICAgaWYgKCF0ZXh0LmVuZHNXaXRoKFwiXFxuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgXCJcXG5cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2coXCJQb3NpdGlvblwiLCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nKFwiVGV4dFwiLCB0ZXh0KTtcbiAgICAgICAgICAgICAgICBmaWxlQ29udGVudHMgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpLnNsaWNlKHBvc2l0aW9uWzBdICsgMSwgcG9zaXRpb25bMV0pLmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nKFwiU3BsaXRcIiwgZmlsZUNvbnRlbnRzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsZUNvbnRlbnRzID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZChtYXRjaGluZ0ZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlQ29udGVudHMgPT0gXCJcIikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gXCJIZWFkZXIgXFxcIlwiICsgaGVhZGVyICsgXCJcXFwiIG5vdCBmb3VuZCBpbiBbW1wiICsgZmlsZU5hbWUgKyBcIl1dXCI7XG4gICAgICAgICAgICBEeW5iZWRkZWQuZGlzcGxheUVycm9yKGVsLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGx1Z2luLmxvZyhcIkZpbGVcIiwgZmlsZUNvbnRlbnRzKVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBlbC5jcmVhdGVEaXYoe2NsczogW0R5bmJlZGRlZC5jb250YWluZXJDbGFzc119KTtcbiAgICAgICAgYXdhaXQgTWFya2Rvd25SZW5kZXJlci5yZW5kZXJNYXJrZG93bihmaWxlQ29udGVudHMsIGNvbnRhaW5lciwgY3R4LnNvdXJjZVBhdGgsIHRoaXMpO1xuICAgIH1cbn1cblxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUFxQjs7O0FDQXJCLHNCQUErQztBQVF4QyxJQUFNLG1CQUFtQjtBQUFBLEVBQy9CLGNBQWM7QUFDZjtBQUdPLElBQU0sc0JBQU4sY0FBa0MsaUNBQWlCO0FBQUEsRUFHekQsWUFBWSxNQUFVLFFBQW1CO0FBQ3hDLFVBQU0sTUFBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLFVBQWdCO0FBQ2YsVUFBTSxFQUFFLGdCQUFnQjtBQUV4QixnQkFBWSxNQUFNO0FBRWxCLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sS0FBSyxPQUFPLFdBQVUsQ0FBQztBQUMxRCxnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLEtBQUssT0FBTyxrQkFBaUIsQ0FBQztBQUNqRSxnQkFBWSxTQUFTLEtBQUssRUFBRSxNQUFNLGVBQWUsS0FBSyxPQUFPLGNBQWMsQ0FBQztBQUM1RSxnQkFBWSxTQUFTLE1BQU0sRUFBQyxNQUFNLEdBQUUsQ0FBQztBQUNyQyxnQkFBWSxTQUFTLE1BQU0sRUFBQyxNQUFNLEdBQUUsQ0FBQztBQUNyQyxnQkFBWSxTQUFTLEtBQUssRUFBQyxNQUFNLGdCQUFnQixLQUFLLE9BQU8sY0FBYyxNQUFNLEtBQUssT0FBTyxnQkFBZSxDQUFDO0FBQzdHLGdCQUFZLFNBQVMsTUFBTSxFQUFDLE1BQU0sR0FBRSxDQUFDO0FBQ3JDLGdCQUFZLFNBQVMsTUFBTSxFQUFDLE1BQU0sR0FBRSxDQUFDO0FBQ3JDLGdCQUFZLFNBQVMsS0FBSyxFQUFDLE1BQU0sd0JBQXdCLE1BQU0sS0FBSyxPQUFPLHVCQUFz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
